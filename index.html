<!DOCTYPE html>
<html lang="si">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EzCash</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
  color: white;
  text-align: center;
}

.header {
  padding: 20px;
  font-size: 24px;
  font-weight: bold;
}

.card {
  background: rgba(255,255,255,0.1);
  margin: 15px;
  padding: 20px;
  border-radius: 15px;
  backdrop-filter: blur(10px);
}

.balance {
  font-size: 28px;
  margin-top: 10px;
  font-weight: bold;
  color: #00ffcc;
}

button {
  width: 90%;
  padding: 15px;
  margin: 10px 0;
  border: none;
  border-radius: 12px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
}

.ad-btn {
  background: #00c853;
  color: white;
}

.withdraw-btn {
  background: #ff1744;
  color: white;
}

.ref-btn {
  background: #2979ff;
  color: white;
}

.footer {
  margin-top: 20px;
  font-size: 13px;
  opacity: 0.8;
}
</style>
</head>

<body>

<div class="header">üí∞ EzCash</div>

<div class="card">
  <div>‡∂î‡∂∂‡∂ú‡∑ö ‡∂∏‡∑î‡∂Ø‡∂Ω‡∑ä ‡∑Å‡∑ö‡∑Ç‡∂∫</div>
  <div class="balance" id="balance">0 LKR</div>
</div>

<div class="card">
  <button class="ad-btn" onclick="watchAd()">üé• ‡∂Ø‡∑ê‡∂±‡∑ä ‡∂Ø‡∑ê‡∂±‡∑ä‡∑Ä‡∑ì‡∂∏‡∂ö‡∑ä ‡∂∂‡∂Ω‡∂±‡∑ä‡∂± (+100 LKR)</button>
  <button class="ref-btn" onclick="copyReferral()">üë• ‡∂∏‡∑í‡∂≠‡∑î‡∂ª‡∂±‡∑ä‡∂ß ‡∂∂‡∑ô‡∂Ø‡∑è‡∂ú‡∂±‡∑ä‡∂±</button>
  <button class="withdraw-btn" onclick="withdraw()">üí∏ ‡∂∏‡∑î‡∂Ø‡∂Ω‡∑ä ‡∂â‡∂Ω‡∑ä‡∂Ω‡∂±‡∑ä‡∂±</button>
</div>

<div class="footer">
  ‡∂Ø‡∑í‡∂±‡∂ö‡∂ß ‡∂Ø‡∑ê‡∂±‡∑ä‡∑Ä‡∑ì‡∂∏‡∑ä 30 ‡∂ö‡∑ä ‡∂¥‡∂∏‡∂´‡∂∫‡∑í | 15 ‡∂∏‡∑í‡∂≠‡∑î‡∂ª‡∂±‡∑ä‡∂ß ‡∂¥‡∑É‡∑î ‡∂∏‡∑î‡∂Ø‡∂Ω‡∑ä ‡∂â‡∂Ω‡∑ä‡∂Ω‡∑í‡∂∫ ‡∑Ñ‡∑ê‡∂ö
</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

const userId = tg.initDataUnsafe.user.id;
let balance = 0;

async function watchAd() {
  const res = await fetch("https://https://ezcash.onrender.com/watch-ad", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ userId })
  });

  const data = await res.json();

  if (data.error) {
    alert(data.error);
  } else {
    balance = data.balance;
    document.getElementById("balance").innerText = balance + " LKR";
    alert("üéâ ‡∂î‡∂∂‡∂ß 100 LKR ‡∂ë‡∂ö‡∂≠‡∑î ‡∑Ä‡∑î‡∂´‡∑è!");
  }
}

function copyReferral() {
  const link = "https://t.me/ezcash_lk_bot?start=" + userId;

  navigator.clipboard.writeText(link);
  alert("üîó Referral link copy ‡∑Ä‡∑î‡∂´‡∑è!");
}

function withdraw() {
  alert("üí∏ Withdraw system ‡∂â‡∂Ø‡∑í‡∂ª‡∑í‡∂∫‡∑ö‡∂Ø‡∑ì ‡∂ë‡∂ö‡∑ä ‡∂ö‡∂ª‡∂±‡∑î ‡∂á‡∂≠");
}
</script>

</body>
</html>
